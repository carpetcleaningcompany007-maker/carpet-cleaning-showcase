```html
<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>The Carpet Cleaning Company Instant Quote</title>
  <meta name="description" content="Stop guessing the price. Choose the level of clean you actually want, then build your quote instantly." />
  <meta name="robots" content="index,follow" />
  <link rel="canonical" href="https://www.thecarpetcleaningcrew.co.uk/instant-quote.html" />

  <style>
    :root{
      --bg0:#070b14;
      --bg1:#0b1630;

      --ink:#0b1220;
      --ink2:#0f1b33;
      --muted:#667690;

      --brand:#2b7bff;
      --brand2:#1b4fd6;

      --gold:#ffbf3c;
      --green:#13b46a;

      --card:#ffffff;
      --line: rgba(12,24,40,.12);

      --shadow: 0 28px 70px rgba(0,0,0,.35);
      --shadow2: 0 12px 26px rgba(10,18,32,.12);

      --r: 22px;
      --max: 1180px;

      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    }

    *{box-sizing:border-box}
    html,body{margin:0; padding:0}
    body{
      font-family: var(--font);
      color: var(--ink);
      background:
        radial-gradient(900px 520px at 12% 10%, rgba(43,123,255,.22) 0%, transparent 60%),
        radial-gradient(700px 520px at 86% 16%, rgba(255,191,60,.18) 0%, transparent 60%),
        radial-gradient(900px 640px at 50% 105%, rgba(19,180,106,.12) 0%, transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1) 58%, #f4f7ff 100%);
      min-height:100vh;
      overflow-x:hidden;
    }
    body.lock{overflow:hidden; height:100vh;}

    a{color:inherit; text-decoration:none}
    .wrap{max-width: var(--max); margin:0 auto; padding: 14px 14px 120px}

    /* Top bar */
    .topbar{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; padding: 10px 0 14px;
      position:relative; z-index:5;
    }
    .brand{display:flex; flex-direction:column; gap:4px; color:#fff;}
    .brand b{letter-spacing:.16em; text-transform:uppercase; font-size:12px; opacity:.92;}
    .brand span{font-size:13px; opacity:.80; max-width:58ch;}

    .top-actions{display:flex; gap:10px; align-items:center; flex-wrap:wrap; justify-content:flex-end}

    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:10px;
      padding:10px 14px; border-radius:999px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.10);
      color:#fff; font-weight:900; font-size:13px;
      cursor:pointer; white-space:nowrap;
      box-shadow: 0 12px 28px rgba(0,0,0,.18);
      backdrop-filter: blur(12px);
      transition: transform .12s ease, box-shadow .12s ease;
    }
    .btn:hover{transform: translateY(-1px); box-shadow: 0 18px 42px rgba(0,0,0,.26)}
    .btn.primary{background: linear-gradient(135deg, var(--brand), var(--brand2));}
    .btn.call{background: rgba(255,255,255,.14);}
    .btn.ghost{
      background: rgba(255,255,255,.10);
      border-color: rgba(255,255,255,.22);
    }
    .btn.green{
      background: linear-gradient(135deg, #13b46a, #0b7b44);
      color:#fff;
      border-color: rgba(255,255,255,.18);
      box-shadow: 0 12px 28px rgba(0,0,0,.10);
      backdrop-filter:none;
    }

    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 14px; border-radius:999px;
      background: rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.14);
      color: rgba(255,255,255,.92);
      font-size:13px; font-weight:850;
      backdrop-filter: blur(12px);
      box-shadow: 0 10px 26px rgba(0,0,0,.18);
      white-space:nowrap;
    }

    /* HERO */
    .hero{
      border-radius: 26px;
      padding: 18px;
      background:
        radial-gradient(900px 520px at 15% 15%, rgba(43,123,255,.22), transparent 55%),
        radial-gradient(700px 420px at 85% 20%, rgba(255,191,60,.18), transparent 55%),
        linear-gradient(135deg, #0b2d5e 0%, #0a1f42 55%, #08152c 100%);
      color:#fff;
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }
    .hero::after{
      content:"";
      position:absolute; inset:-140px -140px auto auto;
      width:420px; height:420px;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.20), transparent 58%);
      transform: rotate(18deg);
      pointer-events:none;
    }

    .hero-top{
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap:14px;
      align-items:start;
      position:relative;
      z-index:1;
    }
    .hero h1{margin:0; font-size:34px; line-height:1.05; letter-spacing:-.02em}
    .hero h1 span{color: var(--gold)}
    .hero p{
      margin:10px 0 0;
      color: rgba(255,255,255,.86);
      font-size:14px;
      line-height:1.55;
      max-width: 75ch;
    }
    .hero-badges{
      display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end; align-content:flex-start;
    }
    .tag{
      display:inline-flex; align-items:center; gap:8px;
      padding:9px 12px; border-radius:999px;
      background: rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.16);
      font-size:12px; font-weight:900;
      backdrop-filter: blur(12px);
      box-shadow: 0 10px 22px rgba(0,0,0,.16);
      white-space:nowrap;
    }

    /* Why prices vary block */
    .why{
      margin-top: 16px;
      border-radius: 22px;
      background: rgba(255,255,255,.92);
      border:1px solid var(--line);
      box-shadow: var(--shadow2);
      overflow:hidden;
    }
    .why .h{
      padding: 14px 16px;
      border-bottom:1px solid rgba(12,24,40,.08);
      background: linear-gradient(135deg, rgba(43,123,255,.07), rgba(255,191,60,.06));
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .why .h b{color: var(--ink2); font-size:16px}
    .why .b{padding: 14px 16px 16px}
    .whyGrid{
      display:grid;
      grid-template-columns: repeat(3, minmax(220px, 1fr));
      gap:12px;
    }
    .whyTile{
      border:1px solid rgba(12,24,40,.10);
      border-radius: 18px;
      background: linear-gradient(135deg, #ffffff, #f7f9ff);
      padding: 12px;
      display:flex;
      gap:12px;
      align-items:flex-start;
      box-shadow: 0 12px 24px rgba(10,18,32,.06);
    }
    .icon{
      width:44px; height:44px;
      border-radius: 14px;
      display:flex; align-items:center; justify-content:center;
      font-weight:980;
      color:#fff;
      flex:0 0 auto;
      box-shadow: 0 12px 24px rgba(10,18,32,.12);
    }
    .i1{background: linear-gradient(135deg, #ffcc4a, #f2a91e); color:#3a2a00;}
    .i2{background: linear-gradient(135deg, #2b7bff, #1b4fd6);}
    .i3{background: linear-gradient(135deg, #13b46a, #0b7b44);}
    .whyTile b{display:block; color: var(--ink2); font-size:14px}
    .whyTile span{display:block; margin-top:6px; color: var(--muted); font-weight:800; font-size:12.5px; line-height:1.4}

    /* Main grid for calculator */
    .grid{
      margin-top: 14px;
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap:14px;
      align-items:start;
    }

    .card{
      background: rgba(255,255,255,.92);
      border:1px solid var(--line);
      border-radius: 22px;
      box-shadow: var(--shadow2);
      overflow: visible;
    }
    .card-h{
      padding: 14px 16px;
      border-bottom:1px solid rgba(12,24,40,.08);
      display:flex; align-items:flex-start; justify-content:space-between; gap:12px;
      background: linear-gradient(135deg, rgba(43,123,255,.07), rgba(255,191,60,.06));
      border-radius: 22px 22px 0 0;
    }
    .card-h h2{margin:0; font-size:16px; color: var(--ink2)}
    .card-h small{display:block; margin-top:4px; color: var(--muted); font-weight:800}
    .card-b{padding: 14px 16px 16px}

    .summary-row{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
      margin-bottom: 10px;
    }
    .total-box{
      background:
        radial-gradient(600px 220px at 0% 0%, rgba(43,123,255,.12), transparent 55%),
        radial-gradient(520px 220px at 100% 0%, rgba(255,191,60,.10), transparent 60%),
        linear-gradient(135deg, #ffffff, #f4f7ff);
      border:1px solid rgba(43,123,255,.18);
      border-radius: 18px;
      padding: 12px;
      display:flex; align-items:center; justify-content:space-between; gap:12px;
    }
    .total-box b{
      font-size:28px;
      color: var(--ink2);
      font-variant-numeric: tabular-nums;
      letter-spacing:-.02em;
    }
    .total-box span{font-size:12px; color: var(--muted); font-weight:950; white-space:nowrap}
    .info-box{
      border:1px solid rgba(12,24,40,.10);
      border-radius: 18px;
      padding: 12px;
      background:#fff;
    }
    .chip{
      display:inline-flex; align-items:center; gap:8px;
      background: rgba(255,191,60,.18);
      color: #6b4b00;
      border:1px solid rgba(255,191,60,.34);
      border-radius:999px;
      padding:6px 10px;
      font-weight:950;
      font-size:12px;
      margin-right:8px;
      white-space:nowrap;
    }
    .note{margin: 10px 0 0; color: var(--muted); font-size:12px; line-height:1.45; font-weight:700}

    .extras{display:flex; gap:10px; flex-wrap:wrap; margin: 12px 0 4px;}
    .toggle{
      display:inline-flex; align-items:center; gap:10px;
      padding:10px 12px;
      border-radius: 999px;
      background: linear-gradient(135deg, #ffffff, #f7f9ff);
      border:1px solid rgba(12,24,40,.10);
      cursor:pointer;
      user-select:none;
      font-size:13px;
      font-weight:900;
      box-shadow: 0 10px 20px rgba(10,18,32,.06);
    }
    .toggle input{width:16px; height:16px}
    .toggle small{font-weight:950; color: var(--green)}
    .toggle .mut{font-weight:850; color: var(--muted)}
    .toggle.disabled{opacity:.55; cursor:not-allowed}

    .section-head{
      display:flex; align-items:center; justify-content:space-between;
      gap:10px; margin-top: 14px; padding-top: 10px;
      border-top:1px dashed rgba(12,24,40,.12);
    }
    .section-head .left{display:flex; align-items:center; gap:10px; font-weight:980; color: var(--ink2);}
    .plus-dot{
      width:28px; height:28px; border-radius:10px;
      background: linear-gradient(135deg, var(--brand), var(--brand2));
      color:#fff; display:flex; align-items:center; justify-content:center;
      box-shadow: 0 10px 22px rgba(43,123,255,.25);
      font-weight:980; flex:0 0 auto;
    }
    .section-head .right{
      color: var(--muted);
      font-size:12px;
      display:flex; align-items:center; gap:10px;
      white-space:nowrap; font-weight:950;
    }

    .items{
      padding: 12px 2px 0;
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 12px;
    }
    .item{
      background:
        radial-gradient(420px 220px at 0% 0%, rgba(43,123,255,.08), transparent 55%),
        radial-gradient(420px 220px at 100% 0%, rgba(255,191,60,.06), transparent 60%),
        linear-gradient(135deg, #ffffff, #fbfcff);
      border:1px solid rgba(12,24,40,.10);
      border-radius: 18px;
      padding: 12px;
      display:flex; align-items:flex-start; justify-content:space-between; gap:10px;
      box-shadow: 0 12px 24px rgba(10,18,32,.06);
    }
    .item h3{margin:0; font-size:14px; line-height:1.2; color: var(--ink2)}
    .item p{margin:6px 0 0; font-size:12px; color: var(--muted); font-weight:800}
    .price{margin-top:8px; font-weight:980; color: var(--green); font-size:14px; letter-spacing:.02em}
    .qty{display:flex; align-items:center; gap:8px;}
    .qbtn{
      width:34px; height:34px; border-radius: 12px;
      border:1px solid rgba(12,24,40,.10);
      background: #fff;
      display:flex; align-items:center; justify-content:center;
      font-weight:980; cursor:pointer;
      box-shadow: 0 10px 18px rgba(10,18,32,.08);
    }
    .qnum{
      width:34px; text-align:center;
      font-weight:980;
      font-variant-numeric: tabular-nums;
      color: var(--ink2);
    }

    details.acc{
      margin-top: 10px;
      border:1px solid rgba(12,24,40,.10);
      border-radius: 18px;
      background: rgba(255,255,255,.92);
      box-shadow: 0 12px 26px rgba(10, 18, 32, .08);
      overflow:hidden;
    }
    details.acc > summary{
      list-style:none;
      cursor:pointer;
      padding: 12px 14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      font-weight:980;
      color: var(--ink2);
      user-select:none;
      background: linear-gradient(135deg, rgba(43,123,255,.06), rgba(255,191,60,.05));
    }
    details.acc > summary::-webkit-details-marker{display:none}
    .acc-meta{color:var(--muted); font-weight:980; font-size:12px; white-space:nowrap;}
    .acc-body{padding: 12px 14px 14px; border-top:1px solid rgba(12,24,40,.08);}

    .list{display:flex; flex-direction:column; gap:10px;}
    .line{
      display:flex; align-items:flex-start; justify-content:space-between;
      gap:10px;
      padding:10px 12px;
      border:1px solid rgba(12,24,40,.10);
      border-radius: 16px;
      background: linear-gradient(135deg, #ffffff, #f8faff);
    }
    .line b{font-size:13px; color: var(--ink2)}
    .line small{display:block; color: var(--muted); margin-top:4px; font-weight:850}
    .money{font-weight:980; font-variant-numeric: tabular-nums; color: var(--green);}
    .hr{height:1px; background: rgba(12,24,40,.10); margin: 10px 0}

    .mutebox{
      padding: 12px 14px;
      border-radius: 18px;
      background:
        radial-gradient(520px 240px at 0% 0%, rgba(43,123,255,.08), transparent 55%),
        linear-gradient(135deg, #ffffff, #f7f9ff);
      border:1px solid rgba(12,24,40,.10);
      color: var(--muted);
      font-size:12.5px;
      line-height:1.5;
      box-shadow: 0 12px 24px rgba(10,18,32,.05);
      font-weight:700;
    }

    .form-grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
      margin-top: 10px;
    }
    .field{display:flex; flex-direction:column; gap:6px;}
    label{font-size:12px; color: var(--muted); font-weight:980}
    input, select, textarea{
      width:100%;
      padding:11px 12px;
      border-radius: 14px;
      border:1px solid rgba(12,24,40,.12);
      background:#fff;
      outline:none;
      font: inherit;
      font-size:13px;
    }
    textarea{min-height:110px; resize:vertical}
    input:focus, select:focus, textarea:focus{
      border-color: rgba(43,123,255,.50);
      box-shadow: 0 0 0 4px rgba(43,123,255,.12);
    }
    .cta{margin-top: 12px; display:flex; gap:10px; flex-wrap:wrap; align-items:center;}

    footer{
      text-align:center;
      color: rgba(12,24,40,.62);
      font-size:12px;
      margin-top: 18px;
      padding: 14px 0 0;
      font-weight:700;
    }

    /* Sticky bar */
    .sticky-bar{
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 50;
      padding: 10px 12px;
      background: linear-gradient(135deg, rgba(11,22,48,.94), rgba(7,11,20,.92));
      border-top: 1px solid rgba(255,255,255,.10);
      backdrop-filter: blur(14px);
      box-shadow: 0 -18px 50px rgba(0,0,0,.30);
      display:none;
    }
    .sticky-inner{
      max-width: var(--max);
      margin:0 auto;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .sticky-total{color:#fff; display:flex; flex-direction:column; gap:2px;}
    .sticky-total span{font-size:11px; opacity:.78; font-weight:980; letter-spacing:.02em}
    .sticky-total b{font-size:18px; font-variant-numeric: tabular-nums}

    /* ---------- MODALS ---------- */
    .overlay{
      position:fixed; inset:0;
      background: rgba(0,0,0,.62);
      backdrop-filter: blur(10px);
      display:none;
      z-index: 999;
      padding: 16px;
      overflow:auto;
    }
    .overlay.show{display:block;}

    .modal{
      width:min(980px, 100%);
      margin: 22px auto;
      border-radius: 22px;
      background:
        radial-gradient(900px 520px at 15% 15%, rgba(43,123,255,.10), transparent 55%),
        radial-gradient(700px 420px at 85% 15%, rgba(255,191,60,.08), transparent 55%),
        linear-gradient(135deg, #ffffff, #f7f9ff);
      border:1px solid rgba(255,255,255,.50);
      box-shadow: 0 28px 70px rgba(0,0,0,.38);
      overflow:hidden;
    }
    .modalHead{
      padding: 14px 16px;
      display:flex; align-items:flex-start; justify-content:space-between; gap:10px;
      background: linear-gradient(135deg, rgba(43,123,255,.10), rgba(255,191,60,.08));
      border-bottom:1px solid rgba(12,24,40,.10);
    }
    .modalHead b{display:block; font-size:16px; color: var(--ink2); letter-spacing:-.01em}
    .modalHead span{display:block; margin-top:6px; font-size:13px; color: var(--muted); font-weight:800; line-height:1.45}
    .xbtn{
      border:0;
      width:38px; height:38px;
      border-radius: 14px;
      cursor:pointer;
      background: rgba(255,255,255,.85);
      border:1px solid rgba(12,24,40,.12);
      box-shadow: 0 10px 22px rgba(10,18,32,.10);
      font-weight:980;
      color: var(--ink2);
      display:flex; align-items:center; justify-content:center;
      flex:0 0 auto;
    }
    .xbtn[disabled]{opacity:.45; cursor:not-allowed;}

    .modalBody{padding: 14px 16px 16px;}

    .svcGrid{
      display:grid;
      grid-template-columns: repeat(3, minmax(220px, 1fr));
      gap:12px;
    }
    .svcCard{
      border-radius: 18px;
      border:1px solid rgba(12,24,40,.12);
      background: linear-gradient(135deg, #ffffff, #fbfcff);
      box-shadow: 0 12px 26px rgba(10,18,32,.08);
      overflow:hidden;
      display:flex;
      flex-direction:column;
      min-height: 260px;
      position:relative;
    }
    .svcTop{
      padding: 12px 12px 10px;
      border-bottom:1px solid rgba(12,24,40,.10);
      display:flex; align-items:flex-start; justify-content:space-between; gap:10px;
    }
    .svcTitle{font-weight:980; font-size:16px; color: var(--ink2); letter-spacing:-.01em; line-height:1.15}
    .svcSub{margin-top:6px; font-size:12.5px; color: var(--muted); font-weight:850; line-height:1.35}
    .svcMost{
      background: linear-gradient(135deg, rgba(255,191,60,.92), rgba(255,122,89,.92));
      color:#2b1b00;
      font-weight:980;
      font-size:12px;
      padding:6px 10px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.45);
      box-shadow: 0 12px 26px rgba(0,0,0,.14);
      white-space:nowrap;
      margin-top: 2px;
    }
    .svcMid{padding: 10px 12px 10px; flex:1; background:#fff;}
    .svcMid ul{margin:0; padding:0 0 0 16px; color:#2a3a55; font-size:13px; line-height:1.5}
    .svcMid li{margin:7px 0}
    .svcFoot{
      padding: 12px;
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      border-top:1px solid rgba(12,24,40,.10);
      background: linear-gradient(135deg, #ffffff, #f7f9ff);
      flex-wrap:wrap;
    }
    .svcPrice b{display:block; font-size:18px; color: var(--ink2); letter-spacing:-.01em}
    .svcPrice span{display:block; font-size:12px; color: var(--muted); font-weight:900}
    .svcBtns{display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end;}
    .svcBtn{
      border:0;
      padding:10px 12px;
      border-radius: 14px;
      font-weight:980;
      cursor:pointer;
      box-shadow: 0 12px 26px rgba(10,18,32,.12);
      color:#fff;
      white-space:nowrap;
    }
    .svcBtn.basic{background: linear-gradient(135deg, #ffcc4a, #f2a91e); color:#3a2a00;}
    .svcBtn.deep{background: linear-gradient(135deg, #1d4ed8, #1239a7);}
    .svcBtn.restore{background: linear-gradient(135deg, #13b46a, #0b7b44);}
    .svcLink{
      background: transparent;
      border:1px solid rgba(12,24,40,.14);
      color: var(--ink2);
      font-weight:980;
      padding:10px 12px;
      border-radius: 14px;
      cursor:pointer;
    }

    .detailGrid{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:12px;
      align-items:start;
    }
    .detailCard{
      border:1px solid rgba(12,24,40,.12);
      border-radius: 18px;
      background:#fff;
      box-shadow: 0 12px 24px rgba(10,18,32,.06);
      overflow:hidden;
    }
    .detailCard .h{
      padding: 12px 14px;
      background: linear-gradient(135deg, rgba(43,123,255,.06), rgba(255,191,60,.05));
      border-bottom:1px solid rgba(12,24,40,.10);
      font-weight:980;
      color: var(--ink2);
    }
    .detailCard .b{padding: 12px 14px;}
    .proscons{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    .pc{
      border:1px solid rgba(12,24,40,.10);
      border-radius: 16px;
      padding: 10px 12px;
      background: linear-gradient(135deg, #ffffff, #f8faff);
    }
    .pc b{display:block; color: var(--ink2); font-size:13px;}
    .pc ul{margin:8px 0 0; padding:0 0 0 16px; color:#2a3a55; font-size:12.5px; line-height:1.5}
    .equip{
      display:grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap:10px;
    }
    .equipTile{
      border:1px solid rgba(12,24,40,.10);
      border-radius: 16px;
      overflow:hidden;
      background:#fff;
      box-shadow: 0 10px 20px rgba(10,18,32,.06);
    }
    .equipTile img{
      width:100%;
      height: 150px;
      object-fit: cover;
      display:block;
      background:#f2f4ff;
    }
    .equipTile .cap{
      padding: 10px 10px 10px;
      font-weight:980;
      font-size:12.5px;
      color: var(--ink2);
      line-height:1.25;
    }
    .detailCtas{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:flex-end;
      padding-top: 10px;
      border-top:1px solid rgba(12,24,40,.10);
      margin-top: 10px;
    }

    /* Mobile */
    @media (max-width: 980px){
      .hero-top{grid-template-columns:1fr}
      .hero-badges{justify-content:flex-start}
      .grid{grid-template-columns:1fr}
      .form-grid{grid-template-columns:1fr}
      .whyGrid{grid-template-columns:1fr}
      .detailGrid{grid-template-columns:1fr}
      .proscons{grid-template-columns:1fr}
    }
    @media (max-width: 860px){
      .pill{display:none}
      .sticky-bar{display:block}
      .wrap{padding-bottom: 128px}
      .svcGrid{grid-template-columns: 1fr;}
      .equip{grid-template-columns: 1fr;}
      .equipTile img{height: 170px;}
    }
    @media (max-width: 420px){
      .hero h1{font-size:26px}
      .total-box b{font-size:24px}
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <b>Instant Quote</b>
        <span>The Carpet Cleaning Company. Choose the level of clean first, then add rooms.</span>
      </div>

      <div class="top-actions">
        <span class="pill">Choose your clean level, then build your quote</span>
        <button class="btn ghost" type="button" id="changeServiceTop">Change service level</button>
        <a class="btn primary" href="#callback">Request callback</a>
        <a class="btn call" href="tel:07802563213">Call</a>
      </div>
    </div>

    <section class="hero" aria-label="Hero">
      <div class="hero-top">
        <div>
          <h1>Stop guessing the <span>price</span> of carpet cleaning</h1>
          <p>
            Choose the level of clean you actually want, then add rooms.
            Your choice sets the pricing, the process, and the end result.
          </p>
        </div>

        <div class="hero-badges">
          <span class="tag">Choose level first</span>
          <span class="tag">Then add rooms</span>
          <span class="tag">Request callback to book</span>
        </div>
      </div>
    </section>

    <section class="why" aria-label="Why prices vary">
      <div class="h">
        <b>Why prices vary between carpet cleaners</b>
        <button class="btn primary" type="button" id="changeServiceWhy">Choose service level</button>
      </div>
      <div class="b">
        <div class="whyGrid">
          <div class="whyTile">
            <div class="icon i1">£</div>
            <div>
              <b>Cheap machines</b>
              <span>Basic setups and quick wand only cleans. Limited soil removal.</span>
            </div>
          </div>
          <div class="whyTile">
            <div class="icon i2">HP</div>
            <div>
              <b>Professional systems</b>
              <span>Better heat, better extraction, better agitation and better results.</span>
            </div>
          </div>
          <div class="whyTile">
            <div class="icon i3">✓</div>
            <div>
              <b>Long lasting results</b>
              <span>Proper rinse and extract plus optional protection treatments.</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="grid">
      <!-- LEFT -->
      <section class="card" aria-label="Build quote">
        <div class="card-h">
          <div>
            <h2>Build your quote</h2>
            <small>Add items below. Restore adds stain guard automatically.</small>
          </div>
          <div>
            <button class="btn primary" type="button" id="changeServiceCard">Change service</button>
          </div>
        </div>

        <div class="card-b">
          <div class="summary-row">
            <div class="total-box">
              <div>
                <div style="font-size:12px; color:var(--muted); font-weight:980;">Total estimate</div>
                <b id="total">£0.00</b>
              </div>
              <div style="text-align:right;">
                <span id="serviceBadge">Deep Clean</span>
              </div>
            </div>

            <div class="info-box">
              <div>
                <span class="chip">No VAT charged</span>
                <span class="note" style="display:inline;">
                  Estimate may vary if rooms are unusually large, heavily soiled, or access is difficult.
                </span>
              </div>
            </div>
          </div>

          <p class="note" id="serviceNote">Choose your service level to begin.</p>

          <div class="extras" role="group" aria-label="Extras">
            <label class="toggle disabled" id="tg_guard" title="Restore only">
              <input type="checkbox" id="x_guard" disabled />
              Stain guard <span class="mut">(</span><small id="guardPriceTxt">£15</small><span class="mut"> per item, Restore only)</span>
            </label>

            <label class="toggle" title="Adds per selected item">
              <input type="checkbox" id="x_deo" />
              Deodorise <span class="mut">(+</span><small id="deoPriceTxt">£10</small><span class="mut"> per item)</span>
            </label>

            <label class="toggle" title="Adds per selected item">
              <input type="checkbox" id="x_insect" />
              Insecticide <span class="mut">(+</span><small id="insectPriceTxt">£20</small><span class="mut"> per item)</span>
            </label>
          </div>

          <div class="section-head">
            <div class="left"><div class="plus-dot">+</div> Carpets</div>
            <div class="right"><span><b id="carpetCount">0</b> items</span></div>
          </div>
          <div class="items" id="carpets"></div>

          <details class="acc">
            <summary>
              <span style="display:flex;align-items:center;gap:10px;">
                <span class="plus-dot" aria-hidden="true">+</span>
                <span>Rugs</span>
              </span>
              <span class="acc-meta"><b id="rugCount">0</b> items</span>
            </summary>
            <div class="acc-body">
              <div class="items" id="rugs"></div>
            </div>
          </details>

          <details class="acc">
            <summary>
              <span style="display:flex;align-items:center;gap:10px;">
                <span class="plus-dot" aria-hidden="true">+</span>
                <span>Sofas and Upholstery</span>
              </span>
              <span class="acc-meta"><b id="upCount">0</b> items</span>
            </summary>
            <div class="acc-body">
              <div class="items" id="upholstery"></div>
            </div>
          </details>

          <div class="hr"></div>
          <div class="mutebox">
            Tip: Add hall, stairs and landing as separate items and the breakdown will show on the right.
          </div>
        </div>
      </section>

      <!-- RIGHT -->
      <aside class="card" aria-label="Selected and callback">
        <div class="card-h">
          <div>
            <h2>Your selected items</h2>
            <small>Updates instantly as you add rooms.</small>
          </div>
        </div>

        <div class="card-b">
          <div class="list" id="selectedList"></div>

          <div class="hr"></div>

          <div class="card" style="box-shadow:none; border-radius:18px; overflow:visible; border:1px solid rgba(12,24,40,.10);">
            <div class="card-h" style="border-radius:18px 18px 0 0;">
              <div>
                <h2 id="callback">Arranging the clean is easy</h2>
                <small>Enter your details and we will call you to arrange a date. Or call <a href="tel:07802563213" style="text-decoration:underline;">07802 563213</a>.</small>
              </div>
            </div>
            <div class="card-b">
              <form id="quoteForm" action="#" method="post" onsubmit="return handleSubmit(event)">
                <div class="form-grid">
                  <div class="field">
                    <label for="name">Name</label>
                    <input id="name" name="name" type="text" placeholder="Your name" autocomplete="name" required />
                  </div>
                  <div class="field">
                    <label for="phone">Phone</label>
                    <input id="phone" name="phone" type="tel" placeholder="Best number" inputmode="tel" autocomplete="tel" required />
                  </div>
                  <div class="field">
                    <label for="email">Email (optional)</label>
                    <input id="email" name="email" type="email" placeholder="Optional email" autocomplete="email" />
                  </div>
                  <div class="field">
                    <label for="postcode">Postcode starts with</label>
                    <select id="postcode" name="postcode" autocomplete="postal-code">
                      <option value="">Select</option>
                      <option>SY</option>
                      <option>TF</option>
                      <option>WV</option>
                      <option>WR</option>
                      <option>HR</option>
                      <option>Other</option>
                    </select>
                  </div>
                </div>

                <div class="field" style="margin-top:10px;">
                  <label for="notes">Anything we should know</label>
                  <textarea id="notes" name="notes" placeholder="Parking, access, stains, pets, preferred days"></textarea>
                </div>

                <input type="hidden" id="serviceLevel" name="serviceLevel" value="deep" />
                <input type="hidden" id="breakdown" name="breakdown" />
                <input type="hidden" id="totalHidden" name="total" />

                <div class="cta">
                  <button class="btn green" type="submit">Request callback</button>
                  <a class="btn call" href="tel:07802563213">Call now</a>
                </div>

                <p class="note" style="margin-top:10px;">Submitting sends your selected items and total.</p>
              </form>
            </div>
          </div>

          <div class="hr"></div>
          <div class="mutebox">
            Need to change the clean level? Tap “Change service level” at the top at any time.
          </div>
        </div>
      </aside>
    </div>

    <footer>
      © The Carpet Cleaning Company. Instant quote is an estimate. Final price may vary if rooms are unusually large, heavily soiled, or have access issues.
      <div style="margin-top:6px;">
        <a href="https://www.thecarpetcleaningcrew.co.uk" style="text-decoration:underline;">thecarpetcleaningcrew.co.uk</a> ·
        <a href="tel:07802563213" style="text-decoration:underline;">07802 563213</a>
      </div>
    </footer>
  </div>

  <div class="sticky-bar" role="region" aria-label="Quick actions">
    <div class="sticky-inner">
      <div class="sticky-total">
        <span>Total estimate</span>
        <b id="totalSticky">£0.00</b>
      </div>
      <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap;">
        <button class="btn ghost" type="button" id="changeServiceSticky">Change service</button>
        <a class="btn primary" href="#callback">Request callback</a>
        <a class="btn call" href="tel:07802563213">Call</a>
      </div>
    </div>
  </div>

  <!-- SERVICE PICKER MODAL -->
  <div class="overlay" id="serviceOverlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="svcTitle">
      <div class="modalHead">
        <div>
          <b id="svcTitle">What’s most important to you?</b>
          <span>Are you looking for the cheapest quote, or the best possible job? We do both. Choose your clean level below.</span>
        </div>
        <button class="xbtn" type="button" id="svcClose" title="Close">✕</button>
      </div>
      <div class="modalBody">
        <div class="svcGrid" id="svcGrid"></div>
        <div class="mutebox" style="margin-top:12px;">
          You can change the service level anytime using “Change service level” at the top of the page.
        </div>
      </div>
    </div>
  </div>

  <!-- SERVICE DETAILS MODAL -->
  <div class="overlay" id="detailOverlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="detailTitle">
      <div class="modalHead">
        <div>
          <b id="detailTitle">Service details</b>
          <span id="detailSub">Pros, cons, and the equipment used.</span>
        </div>
        <button class="xbtn" type="button" id="detailClose" title="Close">✕</button>
      </div>
      <div class="modalBody" id="detailBody"></div>
    </div>
  </div>

  <script>
    // Extras
    const EXTRAS = { guard: 15, deodorise: 10, insecticide: 20 };

    // Images (direct links)
    const IMAGES = {
      airflexMini: "https://www.clean-smart.co.uk/wp-content/uploads/2019/10/miniflex.jpg",                 // compact extractor (Airflex Mini style)
      wand:       "https://www.prestigesupplies.co.uk/wp-content/uploads/2019/05/Prestige-supplies-stainless-steel-carpet-cleaning-wand.jpg",
      enforcer400: "https://www.carpet-cleaning-equipment.co.uk/cdn/shop/files/Ashbys_Enforcer_400_Psi_machine.jpg?v=1715170570",
      crb:        "https://www.smart-cleaning-solutions.com/cdn/shop/products/Pro35_SQ.jpg?v=1720532618&width=1445"
    };

    // Service levels
    const SERVICE = {
      basic:   { label:"Budget Carpet Clean", badge:"Cheapest option. Quick refresh.", color:"basic", guardForced:false },
      deep:    { label:"Deep Clean",          badge:"Best balance of price and results.", color:"deep", guardForced:false, most:true },
      restore: { label:"Full Restore + Protect", badge:"Best possible job. Long lasting result.", color:"restore", guardForced:true }
    };

    // Service marketing copy + details popup content
    const SERVICE_DETAILS = {
      basic: {
        heading: "Budget Carpet Clean",
        sub: "This is the type of clean you see all over the internet. If you can’t beat them, join them. A cheaper option for routine maintenance.",
        bullets: [
          "In tank detergent",
          "Wand only hot water extraction",
          "No scrubbing or agitation",
          "Best for routine maintenance"
        ],
        pros: [
          "Most competitive price",
          "Quick refresh for lightly soiled carpets",
          "Good for regular upkeep"
        ],
        cons: [
          "Not a deep clean",
          "Less effective on traffic lanes and heavy soiling",
          "No agitation step to lift embedded dirt"
        ],
        equipment: [
          { name:"Compact extractor (Airflex Mini style)", img: IMAGES.airflexMini },
          { name:"Standard carpet cleaning wand", img: IMAGES.wand }
        ],
        footer: "Detergent goes into the tank. This method focuses on a quick maintenance refresh rather than a full fibre scrub."
      },
      deep: {
        heading: "Deep Clean",
        sub: "Proper professional clean. More time, more steps, better results.",
        bullets: [
          "In tank rinse agent plus pre spray",
          "Agitation to scrub fibres",
          "Dwell time for better results",
          "Full rinse and extract flush out"
        ],
        pros: [
          "Best balance of price and results",
          "Agitation lifts embedded dirt and improves appearance",
          "Full rinse and extract flushes out residue"
        ],
        cons: [
          "More time on site than budget cleans",
          "Heavily soiled carpets may need extra work"
        ],
        equipment: [
          { name:"Ashbys Enforcer 400 (powerful extraction)", img: IMAGES.enforcer400 },
          { name:"Counter rotating brush (CRB) agitation", img: IMAGES.crb }
        ],
        footer: "You’re not just paying for time. You’re hiring a trained technician and professional equipment that performs on a different level."
      },
      restore: {
        heading: "Full Restore + Protect",
        sub: "Deep clean plus protection on every selected item for a longer lasting result.",
        bullets: [
          "Everything in Deep Clean",
          "Stain guard on every selected item",
          "Helps resist spills and slows resoiling",
          "Best long lasting result"
        ],
        pros: [
          "Best possible finish",
          "Protection helps spills bead and buys you time",
          "Slows resoiling and helps maintenance"
        ],
        cons: [
          "Higher price due to protectant and extra steps",
          "Not suitable for every fibre type in every situation"
        ],
        equipment: [
          { name:"Ashbys Enforcer 400 (powerful extraction)", img: IMAGES.enforcer400 },
          { name:"Counter rotating brush (CRB) agitation", img: IMAGES.crb }
        ],
        footer: "Restore includes stain guard automatically on every item you add in the quote builder."
      }
    };

    // Items (your current list)
    const ITEMS = {
      carpets: [
        { id:"staircase",  name:"Staircase",   desc:"Per flight",              price:35 },
        { id:"hallway",    name:"Hallway",     desc:"Downstairs corridor",     price:22 },
        { id:"landing",    name:"Landing",     desc:"Upstairs passage",        price:22 },
        { id:"living",     name:"Living Room", desc:"Family room",             price:79 },
        { id:"bedroom",    name:"Bedroom",     desc:"Regular or large",        price:37 },
        { id:"dining",     name:"Dining Room", desc:"Or breakfast room",       price:57 },
        { id:"bathroom",   name:"Bathroom",    desc:"Or shower room",          price:22 },
        { id:"boxroom",    name:"Box Room",    desc:"Box bedroom or study",    price:27 },
        { id:"study",      name:"Study",       desc:"Office or spare room",    price:27 },
        { id:"loungediner",name:"Lounge Diner",desc:"Joined through room",     price:99 }
      ],
      rugs: [
        { id:"rug_small",  name:"Rug (Small)",  desc:"Steam clean", price:25 },
        { id:"rug_medium", name:"Rug (Medium)", desc:"Steam clean", price:35 },
        { id:"rug_large",  name:"Rug (Large)",  desc:"Steam clean", price:49 }
      ],
      upholstery: [
        { id:"sofa_2",   name:"2 Seat Sofa",    desc:"Fabric or leather", price:80 },
        { id:"sofa_3",   name:"3 Seat Sofa",    desc:"Fabric or leather", price:120 },
        { id:"corner",   name:"Sofa Per Seat",  desc:"Standard size",      price:40 },
        { id:"armchair", name:"Armchair",       desc:"Single seat",        price:30 }
      ]
    };

    const state = {
      qty: {},
      extras: { guard:false, deodorise:false, insecticide:false },
      service: "deep",
      hasChosenService: false
    };

    const fmt = n => "£" + (Math.round((Number(n)||0)*100)/100).toFixed(2);

    function itemsCountTotal(){
      return Object.values(state.qty).reduce((s,v)=> s + (Number(v)||0), 0);
    }
    const getCount = group => group.reduce((sum,it)=> sum + (state.qty[it.id]||0), 0);

    function unitPrice(groupName, basePrice){
      // Budget: carpets are £30 per room/item
      if (state.service === "basic" && groupName === "Carpets") return 30;
      return Number(basePrice) || 0;
    }

    function extrasPerItemTotal(){
      const enabled = Object.entries(state.extras).filter(([,on]) => !!on);
      const perItem = enabled.reduce((s,[k]) => s + (EXTRAS[k] || 0), 0);
      const itemsCount = itemsCountTotal();
      return { enabled, itemsCount, total: perItem * itemsCount };
    }

    function calc(){
      let subtotal = 0;
      const lines = [];

      const all = [
        ...ITEMS.carpets.map(it => ({...it, group:"Carpets"})),
        ...ITEMS.rugs.map(it => ({...it, group:"Rugs"})),
        ...ITEMS.upholstery.map(it => ({...it, group:"Sofas and Upholstery"}))
      ];

      for (const it of all){
        const q = Number(state.qty[it.id] || 0);
        if (!q) continue;
        const unit = unitPrice(it.group, it.price);
        const total = unit * q;
        subtotal += total;
        lines.push({ label: it.name, group: it.group, qty: q, unit, total });
      }

      const ex = extrasPerItemTotal();
      const extrasLines = ex.enabled.map(([k]) => ({
        label: k === "guard" ? "Stain guard" : (k === "deodorise" ? "Deodorise" : "Insecticide"),
        group: "Extras",
        qty: ex.itemsCount,
        unit: Number(EXTRAS[k] || 0),
        total: Number(EXTRAS[k] || 0) * ex.itemsCount
      })).filter(x => x.qty > 0 && x.unit > 0);

      return { lines, extrasLines, grand: subtotal + ex.total };
    }

    function renderGroup(el, groupName, groupItems){
      el.innerHTML = groupItems.map(it => {
        const q = state.qty[it.id] || 0;
        const unitNow = unitPrice(groupName, it.price);
        return `
          <article class="item" data-id="${it.id}">
            <div style="min-width:0">
              <h3>${it.name}</h3>
              <p>${it.desc}</p>
              <div class="price">${fmt(unitNow)}</div>
            </div>
            <div class="qty">
              <button class="qbtn" data-act="dec" type="button" aria-label="Decrease">−</button>
              <div class="qnum">${q}</div>
              <button class="qbtn" data-act="inc" type="button" aria-label="Increase">+</button>
            </div>
          </article>
        `;
      }).join("");
    }

    function makeEmptyState(){
      const d = document.createElement("div");
      d.className = "mutebox";
      d.textContent = "No items selected yet. Add rooms to see the breakdown.";
      return d;
    }

    function applyServiceRules(){
      const s = SERVICE[state.service];
      document.getElementById("serviceBadge").textContent = s.label;
      document.getElementById("serviceLevel").value = state.service;

      const note = document.getElementById("serviceNote");
      if (state.service === "basic"){
        note.textContent = "Budget Carpet Clean selected. In tank detergent and wand only hot water extraction. No scrubbing or agitation. Best for routine maintenance.";
      } else if (state.service === "deep"){
        note.textContent = "Deep Clean selected. Pre spray, agitation, dwell time, then full rinse and extract for a proper professional clean.";
      } else {
        note.textContent = "Full Restore + Protect selected. Deep clean plus stain guard protection on every selected item automatically.";
      }

      const guard = document.getElementById("x_guard");
      const wrap = document.getElementById("tg_guard");

      if (s.guardForced){
        state.extras.guard = true;
        guard.checked = true;
        guard.disabled = true;
        wrap.classList.remove("disabled");
      } else {
        state.extras.guard = false;
        guard.checked = false;
        guard.disabled = true;
        wrap.classList.add("disabled");
      }
    }

    function renderSelected(){
      applyServiceRules();

      renderGroup(document.getElementById("carpets"), "Carpets", ITEMS.carpets);
      renderGroup(document.getElementById("rugs"), "Rugs", ITEMS.rugs);
      renderGroup(document.getElementById("upholstery"), "Sofas and Upholstery", ITEMS.upholstery);

      const r = calc();
      document.getElementById("total").textContent = fmt(r.grand);
      document.getElementById("totalSticky").textContent = fmt(r.grand);

      document.getElementById("carpetCount").textContent = getCount(ITEMS.carpets);
      document.getElementById("rugCount").textContent = getCount(ITEMS.rugs);
      document.getElementById("upCount").textContent = getCount(ITEMS.upholstery);

      const list = document.getElementById("selectedList");
      const allLines = [...r.lines, ...r.extrasLines].filter(x => (Number(x.total)||0) > 0);

      list.innerHTML = "";
      if (!allLines.length){
        list.appendChild(makeEmptyState());
      } else {
        list.innerHTML =
          `<div class="line" style="border-color: rgba(43,123,255,.22);">
            <div>
              <b>Service level</b>
              <small>${SERVICE[state.service].label}</small>
            </div>
            <div></div>
          </div>` +
          allLines.map(x => `
            <div class="line">
              <div>
                <b>${x.label}</b>
                <small>${x.group} · ${x.qty} × ${fmt(x.unit)}</small>
              </div>
              <div class="money">${fmt(x.total)}</div>
            </div>
          `).join("") +
          `<div class="hr"></div>
           <div class="line" style="background:linear-gradient(135deg,#f3f6ff,#ffffff);">
             <div><b>Total</b><small>Instant estimate</small></div>
             <div class="money">${fmt(r.grand)}</div>
           </div>`;
      }

      const breakdown = [
        `Service level: ${SERVICE[state.service].label}`,
        ...allLines.map(x => `${x.label} (${x.group}): ${x.qty} × ${fmt(x.unit)} = ${fmt(x.total)}`)
      ].join("\n");

      document.getElementById("breakdown").value = breakdown;
      document.getElementById("totalHidden").value = fmt(r.grand);

      // Helpful: nudge notes when service changes
      document.getElementById("notes").placeholder = "Parking, access, stains, pets, preferred days. (You can also ask about the chosen package here.)";
    }

    function attachQtyHandlers(container){
      container.addEventListener("click", (e) => {
        const btn = e.target.closest("button.qbtn");
        if (!btn) return;
        const card = btn.closest(".item");
        if (!card) return;

        const id = card.getAttribute("data-id");
        const act = btn.getAttribute("data-act");
        const cur = Number(state.qty[id] || 0);

        if (act === "inc") state.qty[id] = cur + 1;
        if (act === "dec") state.qty[id] = Math.max(0, cur - 1);

        renderSelected();
      });
    }

    // -------- MODAL CONTROL --------
    const serviceOverlay = document.getElementById("serviceOverlay");
    const svcClose = document.getElementById("svcClose");
    const detailOverlay = document.getElementById("detailOverlay");
    const detailClose = document.getElementById("detailClose");

    function openServiceModal(force=false){
      // if not chosen yet, modal is effectively mandatory
      serviceOverlay.classList.add("show");
      document.body.classList.add("lock");
      serviceOverlay.setAttribute("aria-hidden", "false");
      // Close button disabled until they choose at least once (unless forced open after)
      svcClose.disabled = !state.hasChosenService && !force;
    }

    function closeServiceModal(){
      serviceOverlay.classList.remove("show");
      document.body.classList.remove("lock");
      serviceOverlay.setAttribute("aria-hidden", "true");
    }

    function openDetailModal(level){
      const d = SERVICE_DETAILS[level];
      document.getElementById("detailTitle").textContent = d.heading;
      document.getElementById("detailSub").textContent = "Pros, cons, and the equipment used.";

      const priceLine = (level === "basic")
        ? `${fmt(30).replace(".00","")} per room (carpet items)`
        : `Prices shown in the quote builder (varies by room)`;

      document.getElementById("detailBody").innerHTML = `
        <div class="detailGrid">
          <div class="detailCard">
            <div class="h">What you get</div>
            <div class="b">
              <div class="mutebox" style="margin:0 0 10px 0;">${d.sub}</div>
              <div class="line" style="margin-bottom:10px;">
                <div>
                  <b>Pricing</b>
                  <small>${priceLine}</small>
                </div>
                <div class="money">${SERVICE[level].label}</div>
              </div>
              <div class="pc" style="margin-bottom:10px;">
                <b>Included steps</b>
                <ul>${d.bullets.map(x=>`<li>${x}</li>`).join("")}</ul>
              </div>

              <div class="proscons">
                <div class="pc">
                  <b>Pros</b>
                  <ul>${d.pros.map(x=>`<li>${x}</li>`).join("")}</ul>
                </div>
                <div class="pc">
                  <b>Cons</b>
                  <ul>${d.cons.map(x=>`<li>${x}</li>`).join("")}</ul>
                </div>
              </div>

              <div class="mutebox" style="margin-top:10px;">${d.footer}</div>

              <div class="detailCtas">
                <button class="svcBtn ${SERVICE[level].color}" type="button" data-choose="${level}">Choose this service</button>
                ${level !== "deep" ? `<button class="svcLink" type="button" data-compare="deep">Compare Deep Clean</button>` : ""}
                <a class="svcLink" href="#callback" data-message="1">Message us about this package</a>
              </div>
            </div>
          </div>

          <div class="detailCard">
            <div class="h">Equipment used</div>
            <div class="b">
              <div class="equip">
                ${d.equipment.map(e => `
                  <div class="equipTile">
                    <img src="${e.img}" alt="${e.name}" loading="lazy" />
                    <div class="cap">${e.name}</div>
                  </div>
                `).join("")}
              </div>
              <div class="mutebox" style="margin-top:10px;">
                You’re hiring professional equipment and the technician using it. Capability varies massively between setups, and that’s why prices vary.
              </div>
            </div>
          </div>
        </div>
      `;

      detailOverlay.classList.add("show");
      document.body.classList.add("lock");
      detailOverlay.setAttribute("aria-hidden", "false");
    }

    function closeDetailModal(){
      detailOverlay.classList.remove("show");
      document.body.classList.remove("lock");
      detailOverlay.setAttribute("aria-hidden", "true");
    }

    function setService(level){
      state.service = level;
      state.hasChosenService = true;

      // Close mandatory modal once chosen
      closeServiceModal();
      closeDetailModal();

      renderSelected();

      // Jump to calculator after choosing
      document.querySelector(".grid").scrollIntoView({behavior:"smooth", block:"start"});
      // Ensure close button becomes available next time
      svcClose.disabled = false;
    }

    // Render service picker cards
    function renderServiceCards(){
      const grid = document.getElementById("svcGrid");
      const deepMin = Math.min(...ITEMS.carpets.map(x => x.price));
      const fromDeep = "From " + fmt(deepMin).replace(".00","");
      const fromRestore = "From " + fmt(deepMin + EXTRAS.guard).replace(".00","");

      const cards = [
        {
          level:"basic",
          title: SERVICE.basic.label,
          sub: SERVICE.basic.badge,
          bullets: SERVICE_DETAILS.basic.bullets.slice(0,3),
          price: "£30",
          small: "per room (carpet item)"
        },
        {
          level:"deep",
          title: SERVICE.deep.label,
          sub: SERVICE.deep.badge,
          bullets: SERVICE_DETAILS.deep.bullets.slice(0,3),
          price: fromDeep,
          small: "per item"
        },
        {
          level:"restore",
          title: SERVICE.restore.label,
          sub: SERVICE.restore.badge,
          bullets: SERVICE_DETAILS.restore.bullets.slice(0,3),
          price: fromRestore,
          small: "per item"
        }
      ];

      grid.innerHTML = cards.map(c => `
        <div class="svcCard" data-level="${c.level}">
          <div class="svcTop">
            <div style="min-width:0">
              <div class="svcTitle">${c.title}</div>
              <div class="svcSub">${c.sub}</div>
            </div>
            ${c.level === "deep" ? `<div class="svcMost" style="margin-left:auto;">Most popular</div>` : ``}
          </div>
          <div class="svcMid">
            <ul>${c.bullets.map(x=>`<li>${x}</li>`).join("")}</ul>
          </div>
          <div class="svcFoot">
            <div class="svcPrice">
              <b>${c.price}</b>
              <span>${c.small}</span>
            </div>
            <div class="svcBtns">
              <button class="svcLink" type="button" data-details="${c.level}">Pros and cons</button>
              <button class="svcBtn ${SERVICE[c.level].color}" type="button" data-choose="${c.level}">
                Choose ${c.level === "basic" ? "Budget" : (c.level === "deep" ? "Deep" : "Restore")}
              </button>
            </div>
          </div>
        </div>
      `).join("");
    }

    // -------- INIT / EVENTS --------
    // Init prices text
    document.getElementById("guardPriceTxt").textContent = fmt(EXTRAS.guard).replace(".00","");
    document.getElementById("deoPriceTxt").textContent = fmt(EXTRAS.deodorise).replace(".00","");
    document.getElementById("insectPriceTxt").textContent = fmt(EXTRAS.insecticide).replace(".00","");

    // Render groups
    renderGroup(document.getElementById("carpets"), "Carpets", ITEMS.carpets);
    renderGroup(document.getElementById("rugs"), "Rugs", ITEMS.rugs);
    renderGroup(document.getElementById("upholstery"), "Sofas and Upholstery", ITEMS.upholstery);

    attachQtyHandlers(document.getElementById("carpets"));
    attachQtyHandlers(document.getElementById("rugs"));
    attachQtyHandlers(document.getElementById("upholstery"));

    // Extras listeners
    document.getElementById("x_deo").addEventListener("change", (e)=>{ state.extras.deodorise = e.target.checked; renderSelected(); });
    document.getElementById("x_insect").addEventListener("change", (e)=>{ state.extras.insecticide = e.target.checked; renderSelected(); });

    // Open service modal buttons (make it VERY obvious)
    const openers = ["changeServiceTop","changeServiceWhy","changeServiceCard","changeServiceSticky"];
    openers.forEach(id => document.getElementById(id).addEventListener("click", ()=> openServiceModal(true)));

    // Close buttons
    svcClose.addEventListener("click", () => {
      if (!state.hasChosenService) return; // mandatory until chosen at least once
      closeServiceModal();
    });
    detailClose.addEventListener("click", closeDetailModal);

    // Clicking outside modal closes (only if allowed)
    serviceOverlay.addEventListener("click", (e) => {
      if (e.target !== serviceOverlay) return;
      if (!state.hasChosenService) return;
      closeServiceModal();
    });
    detailOverlay.addEventListener("click", (e) => {
      if (e.target !== detailOverlay) return;
      closeDetailModal();
    });

    // Delegate clicks inside service modal
    document.getElementById("svcGrid").addEventListener("click", (e) => {
      const choose = e.target.closest("[data-choose]");
      const details = e.target.closest("[data-details]");
      if (details){
        openDetailModal(details.getAttribute("data-details"));
        return;
      }
      if (choose){
        setService(choose.getAttribute("data-choose"));
        return;
      }
    });

    // Delegate clicks inside detail modal
    document.getElementById("detailBody").addEventListener("click", (e) => {
      const choose = e.target.closest("[data-choose]");
      const compare = e.target.closest("[data-compare]");
      const msg = e.target.closest("[data-message]");

      if (msg){
        // Prefill notes a bit
        const n = document.getElementById("notes");
        const label = SERVICE[state.service]?.label || "Chosen service";
        n.value = (n.value || "").trim();
        const add = `\n\nQuestion about package: ${label}\n`;
        if (!n.value.includes("Question about package")) n.value += add;
        closeDetailModal();
        return;
      }

      if (compare){
        openDetailModal(compare.getAttribute("data-compare"));
        return;
      }

      if (choose){
        setService(choose.getAttribute("data-choose"));
        return;
      }
    });

    // First load render
    renderServiceCards();
    renderSelected();

    // Force service choice on load (but NOT “stuck” anymore because once chosen, they can close/reopen)
    window.addEventListener("load", () => {
      openServiceModal(false);
    });

    function handleSubmit(event){
      event.preventDefault();
      alert("Callback request captured on this page. If you want it to email you, send me your Formspree endpoint and I will wire it in.");
      return false;
    }
    window.handleSubmit = handleSubmit;
  </script>
</body>
</html>
```

If you want, I can also wire the “Message us about this package” button so it auto selects the package name into the form (and scrolls to the callback) even if they haven’t typed anything.
